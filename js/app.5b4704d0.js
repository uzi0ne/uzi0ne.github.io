(function(){"use strict";var e={8800:function(e,t,s){var i=s(5471),r=s(8505),o=function(){var e=this,t=e._self._c;return t(r.A,[t("router-view")],1)},n=[],a={name:"App"},l=a,c=s(1656),h=(0,c.A)(l,o,n,!1,null,null,null),m=h.exports,u=s(5453);i.Ay.use(u.A);const d={primary:"#4CAF50",secondary:"#9C27b0",accent:"#9C27b0",info:"#00CAE3"};var v=new u.A({theme:{dark:!0,themes:{dark:d,light:d}},breakpoint:{thresholds:{xs:480,sm:1024,md:1280,lg:1919}}}),g=s(1271),p=s(8400),f=s(375),y=s(1689),A=s(8834),C=s(1526),b=s(6278),k=s(9456),_=s(7954),x=s(1228),w=s(8412),M=s(1959),S=s(7410),$=s(9940),D=function(){var e=this,t=e._self._c;return t(r.A,{staticClass:"overflow-hidden"},[t(g.A,{attrs:{fixed:""}},[t("span",{staticClass:"title",staticStyle:{"font-style":"italic"}},[e._v("CineMatch")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/"}},[e._v("홈")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/recommend"}},[e._v("추천")]),t(S.A),t(x.A,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t($.A,{attrs:{"hide-details":"auto",label:"🔎영화 제목 검색..",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.performSearch.apply(null,arguments)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),t(f.A,{attrs:{icon:""},on:{click:e.performSearch}},[t(k.A,[e._v("mdi-magnify")])],1),t(p.A)],1),t(_.A,[t(b.A,{staticClass:"mt-12"},[t(w.A,[t(C.A,{attrs:{cols:"12",sm:"2"}},[t(M.A,{staticClass:"genre-select",attrs:{items:e.genres,label:"장르 선택","single-line":"","item-text":"name","item-value":"name",color:"red"},on:{change:e.filterMoviesByGenre},model:{value:e.selectedGenre,callback:function(t){e.selectedGenre=t},expression:"selectedGenre"}})],1)],1),t(w.A,e._l(e.visibleMovies,(function(s,i){return t(C.A,{key:i,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[t(y.A,{staticClass:"movie-card",attrs:{flat:""},on:{click:function(t){return e.showDetail(s.title)}}},[t(A.ri,{staticClass:"text-center text-h5"},[e._v(e._s(s.title))]),t(A.ZR,{staticClass:"text-center genre-text"},[e._v(e._s(s.genres.split(", ").join(", ")))])],1)],1)})),1)],1)],1)],1)},E=[],P=(s(4114),s(1250));P.A.defaults.baseURL="http://localhost:8080";var Q=P.A,O={name:"MainPage",data(){return{searchQuery:"",movies:[],visibleMovies:[],selectedGenre:null,genres:[{name:"Action"},{name:"Comedy"},{name:"Drama"},{name:"Fantasy"},{name:"Horror"},{name:"Romance"},{name:"Thriller"}],pageSize:10,nextPage:0,loading:!1}},mounted(){this.getAllMovies(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{performSearch(){this.searchQuery.trim()&&Q.get(`/search/${this.searchQuery.trim()}`).then((e=>{e.data?this.$router.push({name:"search",query:{q:this.searchQuery.trim()}}):console.log("영화를 찾을 수 없습니다.")})).catch((e=>{console.error("Error fetching movie detail:",e)}))},getAllMovies(){Q.get("/all").then((e=>{this.movies=e.data,this.addMoviesToView()})).catch((e=>{console.error("Error fetching movies:",e)}))},addMoviesToView(){if(this.loading)return;this.loading=!0;const e=this.movies.slice(this.nextPage*this.pageSize,(this.nextPage+1)*this.pageSize);this.visibleMovies.push(...e),this.nextPage++,this.loading=!1},handleScroll(){let e=window.innerHeight+window.scrollY>=document.body.offsetHeight-10;e&&!this.loading&&this.addMoviesToView()},filterMoviesByGenre(){this.selectedGenre?this.visibleMovies=this.movies.filter((e=>e.genres.includes(this.selectedGenre))):this.getAllMovies()},showDetail(e){Q.get(`/api/movie/${e}`).then((e=>{this.$router.push({name:"movie-detail",params:{title:e.data.title}})})).catch((e=>{console.error("Error fetching movie detail:",e)}))}}},j=O,G=(0,c.A)(j,D,E,!1,null,null,null),T=G.exports,R=s(8230),q=s(2585),H=s(2797),z=function(){var e=this,t=e._self._c;return t(b.A,[t(f.A,{on:{click:e.goBack}},[e._v("이전으로")]),t(y.A,[t(A.ri,{staticClass:"headline"},[e._v(e._s(e.movieDetail.title))]),t(A.ZR,{staticClass:"subtitle"},[e._v(e._s(e.movieDetail.genres))]),t(w.A,[t(C.A,{staticClass:"rating-col",attrs:{cols:"3"}},[t(R.A,{on:{submit:function(t){return t.preventDefault(),e.submitComment.apply(null,arguments)}}},[t(H.A,{attrs:{"background-color":"red",color:"red",dense:"",large:""},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1)],1),t(C.A,{attrs:{cols:"6"}},[t(R.A,{on:{submit:function(t){return t.preventDefault(),e.submitComment.apply(null,arguments)}}},[t($.A,{staticClass:"text-field",attrs:{label:"영화에 대한 코멘트를 남겨주세요!🙌",required:"",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitComment.apply(null,arguments)}},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)],1),t(C.A,{attrs:{cols:"1"}},[t(f.A,{staticClass:"button",on:{click:e.submitComment}},[e._v("글쓰기")])],1)],1),e._l(e.displayedComments,(function(s,i){return t(y.A,{key:i,staticClass:"comments"},[t(H.A,{attrs:{"background-color":"transparent",color:"red",dense:""},model:{value:s.rating,callback:function(t){e.$set(s,"rating",t)},expression:"comment.rating"}}),t(A.OQ,[e._v(e._s(s.comment))])],1)})),e.hasMoreComments?t("div",{ref:"loadMore",staticStyle:{height:"100px","overflow-y":"auto"}},[e.loading?t(q.A,{attrs:{indeterminate:"",color:"primary"}}):e._e()],1):e._e()],2)],1)},L=[],V={name:"MovieDetail",data(){return{movieDetail:{},comment:"",rating:0,comments:[],displayedComments:[],loading:!1,hasMoreComments:!0,page:1,perPage:10}},mounted(){this.fetchMovieDetail(),this.fetchComments(),window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{fetchMovieDetail(){const e=this.$route.params.title;Q.get(`/api/movie/${e}`).then((e=>{this.movieDetail=e.data})).catch((e=>{console.error("영화 상세정보를 불러오는 중 에러 발생:",e)}))},fetchComments(){const e=this.$route.params.title;this.loading=!0,Q.get(`/search/${e}/comments?page=${this.page}&perPage=${this.perPage}`).then((e=>{0===e.data.length?this.hasMoreComments=!1:(this.comments=e.data.reverse(),this.displayedComments=this.comments.slice(0,this.perPage),this.page++),this.loading=!1})).catch((e=>{console.error("코멘트를 불러오는 중 에러 발생:",e),this.loading=!1}))},submitComment(){if(!this.comment.trim())return;const e=this.$route.params.title;Q.post(`/search/${e}/comments`,{comment:this.comment,rating:this.rating}).then((e=>{this.comments.push(e.data),this.fetchComments(),this.comment="",this.rating=0})).catch((e=>{console.error("코멘트 전송 중 에러 발생:",e)}))},handleScroll(){const e=this.$refs.loadMore;e.scrollTop+e.clientHeight>=e.scrollHeight&&!this.loading&&this.fetchMoreComments()},fetchMoreComments(){if(!this.hasMoreComments)return;const e=this.$route.params.title;this.loading=!0,Q.get(`/search/${e}/comments?page=${this.page}&perPage=${this.perPage}`).then((e=>{if(0===e.data.length)this.hasMoreComments=!1;else{const t=e.data.reverse();this.comments=[...this.comments,...t],this.displayedComments=this.comments.slice(0,this.perPage*this.page),this.page++}this.loading=!1})).catch((e=>{console.error("코멘트를 불러오는 중 에러 발생:",e),this.loading=!1}))},goBack(){this.$router.go(-1)}}},B=V,Z=(0,c.A)(B,z,L,!1,null,"aee7b3e4",null),F=Z.exports,I=s(2006),U=function(){var e=this,t=e._self._c;return t(r.A,{staticClass:"overflow-hidden"},[t(g.A,{attrs:{absolute:"","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[t("span",{staticClass:"title",staticStyle:{"font-style":"italic"}},[e._v("CineMatch")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/"}},[e._v("홈")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/recommend"}},[e._v("추천")]),t(S.A),t(x.A,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t($.A,{attrs:{"hide-details":"auto",label:"🔎영화 제목 검색..",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.performSearch.apply(null,arguments)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),t(f.A,{attrs:{icon:""},on:{click:e.performSearch}},[t(k.A,[e._v("mdi-magnify")])],1),t(p.A)],1),t(b.A,[t(I.A,{staticClass:"recommendation-title"},[e._v("나와 비슷한 취향의 사람들은 어떤 영화를 좋아할까?🤔")])],1),t(b.A,[t(w.A,{staticClass:"search-button-row"},[t(x.A,{staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{"max-width":"600"}},[t($.A,{staticClass:"search-field",attrs:{"hide-details":"auto",label:"🔎재미있게 본 영화의 제목을 정확히 입력해주세요. (예시) Heat (1995)",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getRecommendedMovies.apply(null,arguments)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),t(b.A,[t(w.A,e._l(e.visibleMovies,(function(s,i){return t(C.A,{key:i,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[t(y.A,{staticClass:"movie-card",attrs:{flat:""},on:{click:function(t){return e.showDetail(s.title)}}},[t(A.ri,{staticClass:"text-center text-h5"},[e._v(e._s(s.title))]),t(A.ZR,{staticClass:"text-center genre-text"},[e._v(e._s(s.genres.split(", ").join(", ")))])],1)],1)})),1)],1)],1)},Y=[],J={name:"RecommendPage",data(){return{searchQuery:"",movies:[],visibleMovies:[],selectedGenre:null,genres:[],pageSize:10,nextPage:0,loading:!1,search:""}},mounted(){this.getAllMovies(),window.addEventListener("scroll",this.handleScroll)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{performSearch(){this.searchQuery.trim()&&this.$router.push({path:"/search",query:{q:this.searchQuery}})},getRecommendedMovies(){const e=this.search.trim();Q.get(`/api/recommendations/title/${e}`).then((e=>{this.movies=e.data,this.addMoviesToView()})).catch((e=>{console.error("Error fetching movies:",e)}))},addMoviesToView(){if(this.loading)return;this.loading=!0;const e=this.movies.slice(this.nextPage*this.pageSize,(this.nextPage+1)*this.pageSize);this.visibleMovies.push(...e),this.nextPage++,this.loading=!1},handleScroll(){let e=window.innerHeight+window.scrollY>=document.body.offsetHeight-10;e&&!this.loading&&this.addMoviesToView()},fetchGenres(){Q.get("/genres").then((e=>{this.genres=e.data})).catch((e=>{console.error("Error fetching genres:",e)}))},filterMoviesByGenre(){this.selectedGenre?this.visibleMovies=this.movies.filter((e=>e.genres.includes(this.selectedGenre))):this.getAllMovies()},showDetail(e){Q.get(`/api/movie/${e}`).then((e=>{this.$router.push({name:"movie-detail",params:{title:e.data.title}})})).catch((e=>{console.error("Error fetching movie detail:",e)}))}}},K=J,N=(0,c.A)(K,U,Y,!1,null,null,null),W=N.exports,X=function(){var e=this,t=e._self._c;return t(r.A,{staticClass:"overflow-hidden"},[t(g.A,{attrs:{absolute:"","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[t("span",{staticClass:"title",staticStyle:{"font-style":"italic"}},[e._v("CineMatch")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/"}},[e._v("홈")]),t("router-link",{staticClass:"menu",staticStyle:{color:"white"},attrs:{to:"/recommend"}},[e._v("추천")]),t(S.A),t(x.A,{staticClass:"mx-auto",attrs:{"max-width":"344"}},[t($.A,{attrs:{"hide-details":"auto",label:"🔎영화 제목 검색..",color:"red"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getMovieDetails.apply(null,arguments)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),t(f.A,{attrs:{icon:""},on:{click:e.getMovieDetails}},[t(k.A,[e._v("mdi-magnify")])],1),t(p.A)],1),t("br"),t("br"),t(I.A,{staticStyle:{"font-size":"24px","font-weight":"bold","margin-top":"40px !important",padding:"50px !important"}},[e._v("검색 결과")]),t(b.A,[t(w.A,e._l(e.filteredMovies,(function(s,i){return t(C.A,{key:i,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[t(y.A,{staticClass:"movie-card",attrs:{flat:""},on:{click:function(t){return e.showDetail(s.title)}}},[t(A.ri,{staticClass:"text-center text-h5"},[e._v(e._s(s.title))]),t(A.ZR,{staticClass:"text-center genre-text"},[e._v(e._s(s.genres.join(", ")))])],1)],1)})),1)],1),0===e.filteredMovies.length?t("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[t("p",[e._v("일치하는 영화가 없습니다.")])]):e._e()],1)},ee=[],te={name:"SearchPage",data(){return{searchQuery:this.$route.query.q||"",model:1,filteredMovies:[]}},mounted(){this.searchQuery.trim()&&this.getMovieDetails()},methods:{getMovieDetails(){this.searchQuery.trim()&&P.A.get(`/search/${encodeURIComponent(this.searchQuery)}`).then((e=>{if(!e.data||0===e.data.length)return console.error("Empty response received."),void(this.filteredMovies=[]);this.filteredMovies=e.data.map((e=>({id:e.movie_Id,title:e.title,genres:e.genres.split("|")})))})).catch((e=>{console.error("Error fetching search results:",e),this.filteredMovies=[]}))},showDetail(e){P.A.get(`/api/movie/${e}`).then((e=>{this.$router.push({name:"movie-detail",params:{title:e.data.title}})})).catch((e=>{console.error("Error fetching movie detail:",e)}))}}},se=te,ie=(0,c.A)(se,X,ee,!1,null,null,null),re=ie.exports,oe=s(173);i.Ay.use(oe.Ay);const ne=[{path:"/",name:"home",component:T},{path:"/recommend",name:"recommend",component:W},{path:"/search",name:"search",component:re,props:!0},{path:"/movie-detail",name:"movie-detail",component:F}],ae=new oe.Ay({mode:"history",base:"/",routes:ne});var le=ae;s(4301);i.Ay.config.productionTip=!1,i.Ay.prototype.$axios=P.A,new i.Ay({router:le,vuetify:v,render:e=>e(m)}).$mount("#app")}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,r,o){if(!i){var n=1/0;for(h=0;h<e.length;h++){i=e[h][0],r=e[h][1],o=e[h][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||n>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(a=!1,o<n&&(n=o));if(a){e.splice(h--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[i,r,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,n=i[0],a=i[1],l=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(l)var h=l(s)}for(t&&t(i);c<n.length;c++)o=n[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(h)},i=self["webpackChunkseproject"]=self["webpackChunkseproject"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(8800)}));i=s.O(i)})();
//# sourceMappingURL=app.5b4704d0.js.map